<?xml version="1.0" encoding="UTF-8"?>
<interface>
  <requires lib="gtk" version="4.0"/>
  <template class="PtWindow" parent="AdwApplicationWindow">
    <property name="default-width">600</property>
    <property name="default-height">300</property>
    <child>
      <object class="GtkBox">
        <property name="orientation">vertical</property>
        <child>
          <object class="AdwHeaderBar">
            <property name="title-widget">
              <object class="AdwCarouselIndicatorDots">
                <property name="carousel">main_carousel</property>
              </object>
            </property>
            <style>
              <class name="flat"/>
            </style>
          </object>
        </child>
        <child>
          <object class="GtkOverlay" id="carousel_overlay">
            <child>
              <object class="AdwCarousel" id="main_carousel">
                <property name="margin-bottom">24</property>
                <!-- I know this disables swipe back even when we just want to disable swipe next, but there's
                     no way to disable swipe next that I can see and we gotta ship in a couple days, so... -->
                <binding name="interactive">
                  <closure type="gboolean" function="get_btn_next_sensitive">
                    <lookup name="position">main_carousel</lookup>
                    <lookup name="child">carousel_overlay</lookup>
                  </closure>
                </binding>
                <child>
                  <object class="PtPage">
                    <property name="image-uri">resource:///mobi/phosh/PhoshTour/pages/welcome.svg</property>
                    <property name="summary" translatable="yes">Hello!</property>
                    <property name="explanation" translatable="yes">Planned obsolescence is so last century. Your new FuriPhone is designed to last, and even get better with age.</property>
                    <property name="widget">
                      <object class="CcLanguageChooser">
                        <property name="valign">fill</property>
                      </object>
                    </property>
                  </object>
                </child>

                <child>
                  <object class="PtPage">
                    <property name="summary" translatable="yes">Letâ€™s go online</property>
                    <property name="explanation" translatable="yes">Connect your FuriPhone to the Internet now if you want to update your device before you start using it.</property>
                    <property name="widget">
                      <object class="CcNetworkList" id="network_list">
                        <property name="valign">fill</property>
                      </object>
                    </property>
                    <property name="image-uri" bind-source="network_list" bind-property="signal-indicator" bind-flags="sync-create"></property>
                  </object>
                </child>

                <child>
                  <object class="PtPage">
                    <property name="image-uri">resource:///mobi/phosh/PhoshTour/pages/padlock.svg</property>
                    <property name="summary" translatable="yes">Keep it safe</property>
                    <property name="explanation" translatable="yes">Set up a screen lock to keep your device safe.</property>
                    <property name="widget">
                      <object class="PtSecuritySettings" id="security_settings">
                        <property name="valign">fill</property>
                      </object>
                    </property>
                    <property name="can-proceed" bind-source="security_settings" bind-property="ready" bind-flags="sync-create"></property>
                  </object>
                </child>

                <!-- <child>
                  <object class="PtPage">
                    <property name="image-uri">resource:///mobi/phosh/PhoshTour/pages/quick-settings.svg</property>
                    <property name="summary" translatable="yes">Sync your data</property>
                    <property name="explanation" translatable="yes">If you have a compatible online account, you can bring your contacts, calendar, and more to your FuriPhone.</property>
                    <property name="widget">
                      <object class="PtOnlineAccounts">
                        <property name="valign">fill</property>
                      </object>
                    </property>
                  </object>
                </child> -->

                <child>
                  <object class="PtPage">
                    <property name="image-uri">resource:///mobi/phosh/PhoshTour/pages/show-keyboard.svg</property>
                    <property name="summary" translatable="yes">Make it yours</property>
                    <property name="explanation" translatable="yes">Dark or light mode? Big or small text? Your FuriPhone, your choice.</property>
                    <property name="widget">
                      <object class="GtkScrolledWindow">
                        <child>
                          <object class="GtkBox">
                            <property name="orientation">vertical</property>
                            <property name="valign">fill</property>
                            <property name="vexpand">true</property>
                            <property name="hexpand">true</property>
                            <property name="halign">fill</property>
                            <child>
                              <object class="GtkGrid">
                                <property name="column-homogeneous">True</property>
                                <property name="column-spacing">24</property>
                                <property name="row-spacing">12</property>
                                <property name="margin-start">12</property>
                                <property name="margin-end">12</property>
                                <property name="margin-top">18</property>
                                <property name="margin-bottom">12</property>
                                <property name="hexpand">True</property>
                                <child>
                                  <object class="GtkToggleButton" id="default_toggle">
                                    <accessibility>
                                      <relation name="labelled-by">default_label</relation>
                                    </accessibility>
                                    <child>
                                      <object class="GtkPicture" id="default_preview">
                                        <property name="file">resource:///mobi/phosh/PhoshTour/pages/default.svg</property>
                                      </object>
                                    </child>
                                    <style>
                                      <class name="background-preview-button"/>
                                    </style>
                                    <layout>
                                      <property name="column">0</property>
                                      <property name="row">0</property>
                                    </layout>
                                    <property name="active" bind-source="dark_toggle" bind-property="active" bind-flags="sync-create | invert-boolean | bidirectional"></property>
                                    <signal name="clicked" handler="pt_set_default_mode" />
                                  </object>
                                </child>
                                <child>
                                  <object class="GtkLabel" id="default_label">
                                    <property name="label" translatable="yes">Light</property>
                                    <property name="use-underline">True</property>
                                    <property name="mnemonic-widget">default_toggle</property>
                                    <layout>
                                      <property name="column">0</property>
                                      <property name="row">1</property>
                                    </layout>
                                  </object>
                                </child>
                                <child>
                                  <object class="GtkToggleButton" id="dark_toggle">
                                    <property name="group">default_toggle</property>
                                    <accessibility>
                                      <relation name="labelled-by">dark_label</relation>
                                    </accessibility>
                                    <child>
                                      <object class="GtkPicture" id="dark_preview">
                                        <property name="file">resource:///mobi/phosh/PhoshTour/pages/dark.svg</property>
                                      </object>
                                    </child>
                                    <style>
                                      <class name="background-preview-button"/>
                                    </style>
                                    <layout>
                                      <property name="column">1</property>
                                      <property name="row">0</property>
                                    </layout>
                                    <binding name="active">
                                      <lookup name="dark" type="AdwStyleManager">
                                        <lookup name="style-manager" type="AdwApplication">
                                          <lookup name="application" type="GtkWindow"></lookup>
                                        </lookup>
                                      </lookup>
                                    </binding>
                                    <signal name="clicked" handler="pt_set_dark_mode" />
                                  </object>
                                </child>
                                <child>
                                  <object class="GtkLabel" id="dark_label">
                                    <property name="label" translatable="yes">Dark</property>
                                    <property name="use-underline">True</property>
                                    <property name="mnemonic-widget">dark_toggle</property>
                                    <layout>
                                      <property name="column">1</property>
                                      <property name="row">1</property>
                                    </layout>
                                  </object>
                                </child>
                              </object>
                            </child>
                            <child>
                              <object class="GtkScale" id="scaling_slider">
                                <property name="margin-start">12</property>
                                <property name="margin-end">12</property>
                                <property name="margin-top">18</property>
                                <property name="margin-bottom">12</property>
                                <property name="round-digits">0</property>
                                <property name="hexpand">True</property>
                                <property name="halign">fill</property>
                                <property name="valign">fill</property>
                                <property name="adjustment">
                                  <object class="GtkAdjustment">
                                    <property name="lower">0</property>
                                    <property name="upper">8</property>
                                    <property name="step-increment">1</property>
                                    <property name="page-increment">1</property>
                                    <property name="value">4</property>
                                  </object>
                                </property>
                                <marks>
                                  <mark value="0" translatable="yes">Tiny</mark>
                                  <mark value="1" />
                                  <mark value="2" />
                                  <mark value="3" />
                                  <mark value="4"></mark>
                                  <mark value="5" />
                                  <mark value="6" />
                                  <mark value="7" />
                                  <mark value="8" translatable="yes">Huge</mark>
                                </marks>
                                <signal name="value-changed" handler="pt_set_scaling" />
                              </object>
                            </child>
                          </object>
                        </child>
                      </object>
                    </property>
                  </object>
                </child>

                <child>
                  <object class="PtPage">
                    <property name="image-uri">resource:///mobi/phosh/PhoshTour/pages/power-menu.svg</property>
                    <property name="summary" translatable="yes">Power Menu</property>
                    <property name="explanation" translatable="yes">Pressing and holding the Power button will display a menu with quick actions for your device. When set up, an Emergency calling action will also be available.</property>
                  </object>
                </child>

                <child>
                  <object class="PtPage">
                    <property name="image-uri">resource:///mobi/phosh/PhoshTour/pages/slide-to-unlock.svg</property>
                    <property name="summary" translatable="yes">Slide to Unlock</property>
                    <property name="explanation" translatable="yes">When your device is locked, sliding up will show the keypad where you can unlock your device with your PIN.</property>
                  </object>
                </child>

                <child>
                  <object class="PtPage">
                    <property name="image-uri">resource:///mobi/phosh/PhoshTour/pages/close-apps.svg</property>
                    <property name="summary" translatable="yes">Closing Applications</property>
                    <property name="explanation" translatable="yes">In the Overview, you can see a list of your applications, dismiss them with a swipe up or by hitting the close button.</property>
                  </object>
                </child>

                <child>
                  <object class="PtPage">
                    <property name="image-uri">resource:///mobi/phosh/PhoshTour/pages/launch-apps.svg</property>
                    <property name="summary" translatable="yes">Launching Applications</property>
                    <property name="explanation" translatable="yes">Tap an application icon in the App Grid to launch it, or use the Search bar to find the application you are looking for.</property>
                  </object>
                </child>

                <child>
                  <object class="PtPage">
                    <property name="image-uri">resource:///mobi/phosh/PhoshTour/pages/see-notifications.svg</property>
                    <property name="summary" translatable="yes">See Your Notifications</property>
                    <property name="explanation" translatable="yes">At any time pull down from the top of the device to see notifications from all your apps!</property>
                  </object>
                </child>

                <child>
                  <object class="PtPage">
                    <property name="image-uri">resource:///mobi/phosh/PhoshTour/pages/all-set.svg</property>
                    <property name="summary" translatable="yes">Welcome to your @BRAND@!</property>
                    <property name="explanation" translatable="yes">To find out more about @VENDOR@ or your device, check out @URL@.</property>
                    <property name="widget">
                      <object class="GtkButton">
                        <property name="margin-top">24</property>
                        <property name="label" translatable="yes">Get Started</property>
                        <property name="action-name">app.quit</property>
                        <style>
                          <class name="pill"/>
                          <class name="suggested-action"/>
                        </style>
                      </object>
                    </property>
                  </object>
                </child>

              </object>
            </child>

            <child type="overlay">
              <object class="GtkButton">
                <property name="valign">end</property>
                <property name="halign">end</property>
                <property name="margin-end">12</property>
                <property name="margin-bottom">12</property>
                <property name="action-name">win.flip-page</property>
                <property name="action-target">1</property>
                <property name="child">
                  <object class="GtkImage">
                    <property name="pixel-size">16</property>
                    <property name="icon-name">go-next-symbolic</property>
                  </object>
                </property>
                <binding name="visible">
                  <closure type="gboolean" function="get_btn_next_visible">
                    <lookup name="position">main_carousel</lookup>
                    <lookup name="n-pages">main_carousel</lookup>
                  </closure>
                </binding>
                <binding name="sensitive">
                  <closure type="gboolean" function="get_btn_next_sensitive">
                    <lookup name="position">main_carousel</lookup>
                    <lookup name="child">carousel_overlay</lookup>
                  </closure>
                </binding>
                <child>
                  <object class='GtkShortcutController'>
                    <property name='scope'>managed</property>
                    <child>
                      <object class='GtkShortcut'>
                        <property name='trigger'>&lt;Shift&gt;Right|l</property>
                        <property name='action'>activate</property>
                      </object>
                    </child>
                  </object>
                </child>
                <style>
                  <class name="circular"/>
                  <class name="flat"/>
                </style>
              </object>
            </child>

            <child type="overlay">
              <object class="GtkButton">
                <property name="valign">end</property>
                <property name="halign">start</property>
                <property name="margin-bottom">12</property>
                <property name="margin-start">12</property>
                <property name="action-name">win.flip-page</property>
                <property name="action-target">-1</property>
                <property name="child">
                  <object class="GtkImage">
                    <property name="pixel-size">16</property>
                    <property name="icon-name">go-previous-symbolic</property>
                  </object>
                </property>
                <binding name="visible">
                  <closure type="gboolean" function="get_btn_previous_visible">
                    <lookup name="position">main_carousel</lookup>
                  </closure>
                </binding>
                <binding name="sensitive">
                  <closure type="gboolean" function="get_btn_previous_sensitive">
                    <lookup name="position">main_carousel</lookup>
                    <lookup name="child">carousel_overlay</lookup>
                  </closure>
                </binding>
                <child>
                  <object class='GtkShortcutController'>
                    <property name='scope'>managed</property>
                    <child>
                      <object class='GtkShortcut'>
                        <property name='trigger'>&lt;Shift&gt;Left|h</property>
                        <property name='action'>activate</property>
                      </object>
                    </child>
                  </object>
                </child>
                <style>
                  <class name="circular"/>
                  <class name="flat"/>
                </style>
              </object>
            </child>

          </object>
        </child>
      </object>
    </child>
  </template>

  <menu id="primary_menu">
    <section>
      <item>
        <attribute name="label" translatable="yes">_Keyboard Shortcuts</attribute>
        <attribute name="action">win.show-help-overlay</attribute>
      </item>
      <item>
        <attribute name="label" translatable="yes">_About Phosh Tour</attribute>
        <attribute name="action">app.about</attribute>
      </item>
    </section>
  </menu>
</interface>
